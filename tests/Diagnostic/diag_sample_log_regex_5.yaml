test_scenario:
  test_id: DG_5S
  test_name: DiagSampleLogRegex5
  test_description: |
                    Sample Diagnostic recipe to search for a regex string with
                    multiple assignment and create a DRC with the assignment as associated fields.
                    (Combination of DRCs and associated fields are unique)
  test_group: Diag
  tags: [Diag, Sample]

  test_steps:
  - step_id: step_001
    step_name: SearchForRegexAssignDRCWithFields
    step_description: Search for a regex string in log and assign a DRC with associated fields.
    connection_type: Local
    connection: Local
    step_type: log_analysis
    log_analysis_path: ../sample_workspace/test_run.log
    validator_type: regex
    diagnostic_analysis:
    - search_string: (FAIL-(?=\d*[1-9])\d+)\s*\|.*?\|.*?\|.*?\|(?P<Component_ID>[^\|]+)\|\s*(?P<Notes>.*?)(?=(\nFAIL-|$))
      diagnostic_result_code: FAIL-000000000XXX
      parameter_to_set: error_code

# Note:- Combination of DRCs and associated fields are unique.
#        e.g. if the search string is found 3 times in the log with different