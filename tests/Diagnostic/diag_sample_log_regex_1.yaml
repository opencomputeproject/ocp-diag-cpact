test_scenario:
  test_id: DG_1S
  test_name: DiagSampleLogRegex1
  test_description: Sample Diagnostic recipe for searching a string or regex string in log and assign a DRC.
  test_group: Diag
  tags: [Diag, Sample]

  test_steps:
  - step_id: step_001
    step_name: SearchForExactStringAssignDRC
    step_description: Search for exact string in log and assign a DRC.
    connection_type: Local
    connection: Local
    step_type: log_analysis
    log_analysis_path: ../sample_workspace/test_run.log
    validator_type: regex
    diagnostic_analysis:
    - search_string: (Flash execution failed)
      diagnostic_result_code: FAIL-0000000001101
      parameter_to_set: error_code
    - diagnostic_search_string: ((?<!\S)FAIL-(?=\d*[1-9])\d+(?!\S))
      parameter_to_set: partnerdiag_fault_analysis

# Note:- Multiple instance of the same search string will still yield only one DRC.
#        e.g. if the search string is found 3 times in the log, only one DRC will be assigned.