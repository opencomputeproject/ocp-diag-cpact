2025-10-14 22:04:31,991 [INFO] üìÅ Log directory created: ..\sample_workspace\logs\test_run_20251014_220431
2025-10-14 22:04:31,992 [INFO] üìù Logging to file: ..\sample_workspace\logs\test_run_20251014_220431\test_run.log
2025-10-14 22:04:31,993 [INFO] Log directory: ..\sample_workspace\logs\test_run_20251014_220431
2025-10-14 22:04:31,994 [INFO] Starting test discovery in: ..\tests
2025-10-14 22:04:32,166 [INFO] Found 10 matching test cases.
2025-10-14 22:04:32,218 [INFO] 
üöÄ Running Test: ..\tests\Diagnostic\diag_sample_log_regex_5.yaml
2025-10-14 22:04:32,223 [INFO] üîß OCP TV output file: ..\sample_workspace\logs\test_run_20251014_220431\ocptv_DiagSampleLogRegex5_20251014_220431.json
2025-10-14 22:04:32,223 [INFO] Test Metadata set: ID=DG_5S
2025-10-14 22:04:32,224 [INFO] Running 1 steps in scenario: DiagSampleLogRegex5
2025-10-14 22:04:32,224 [INFO] Running inline steps...
2025-10-14 22:04:32,229 [INFO] üöÄ Test Run Started: DiagSampleLogRegex5
2025-10-14 22:04:32,244 [INFO] üîÑ Test Step Started: Step: ID:step_001_SearchForRegexAssignDRCWithFields
2025-10-14 22:04:32,244 [INFO] Executing step: SearchForRegexAssignDRCWithFields
2025-10-14 22:04:32,245 [INFO] Initializing LogAnalyzer with step: <ocptv.output.step.TestStep object at 0x0000024ABFFE6F90>
2025-10-14 22:04:35,349 [INFO] Log path: ../sample_workspace/test_run.log
2025-10-14 22:04:35,378 [INFO] Analyzing log: ..\sample_workspace\logs\test_run_20251014_220431\step_logs
2025-10-14 22:04:35,378 [INFO] Log content: Installing ERR driver...
Starting OneDiag...
*******************************************************...
2025-10-14 22:04:35,385 [INFO] ---------------- Applying Rule ----------------
2025-10-14 22:04:35,386 [INFO] üîç Matched '(FAIL-(?=\d*[1-9])\d+)\s*\|.*?\|.*?\|.*?\|(?P<Component_ID>[^\|]+)\|\s*(?P<Notes>.*?)(?=(\nFAIL-|$))' ‚Üí True ‚Üí set error_code
2025-10-14 22:04:35,386 [INFO] üîç Updated diagnostic context: {'keys': {'DG_5S': {'step_001': {'error_code': True}}}}
2025-10-14 22:04:35,387 [INFO] ---------------- Diagnostic Keys ----------------
2025-10-14 22:04:35,387 [INFO] [LogAnalyzer] Diagnostic Analysis: defaultdict(<class 'list'>, {'FAIL-000000000XXX': [{'Component_ID': ' 0008:01:00.0_Version             ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0019:01:00.0_Version             ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0009:01:00.0_Version             ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0018:01:00.0_Version             ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0008:01:00.0_InfoROM Version     ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0008:05:00.0_Board ID            ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0019:01:00.0_InfoROM Version     ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0019:02:00.0_Board ID            ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0009:02:00.0_InfoROM Version     ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0009:02:00.0_Board ID            ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0018:11:00.0_InfoROM Version     ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' 0018:11:00.0_Board ID            ', 'Notes': 'Flash execution failed, please check command.'}, {'Component_ID': ' GPU_0018_11_00_0_VBIOS_version   ', 'Notes': "'GPU_0018_01_00_0_VBIOS_version': not found. expected '=/.*/'"}, {'Component_ID': ' GPU_0018_21_00_0_InfoROM_version ', 'Notes': "'GPU_0018_01_00_0_InfoROM_version': not found. expected '=/M215\\.0201\\.00\\..*/'"}, {'Component_ID': ' GPU_0008_015_00_0_VBIOS_version   ', 'Notes': "'GPU_0008_01_00_0_VBIOS_version': not found. expected '=/.*/'"}, {'Component_ID': ' GPU_0008_017_00_0_InfoROM_version ', 'Notes': "'GPU_0008_01_00_0_InfoROM_version': not found. expected '=/D777\\.0201\\.00\\..*/'"}, {'Component_ID': ' GPU_0009_017_00_0_VBIOS_version   ', 'Notes': "'GPU_0009_01_00_0_VBIOS_version': not found. expected '=/.*/'"}, {'Component_ID': ' GPU_0009_017_00_0_InfoROM_version ', 'Notes': "'GPU_0009_01_00_0_InfoROM_version': not found. expected '=/K4545\\.0201\\.00\\..*/'"}, {'Component_ID': ' GPU_0019_019_00_0_VBIOS_version   ', 'Notes': "'GPU_0019_01_00_0_VBIOS_version': not found. expected '=/.*/'"}, {'Component_ID': ' GPU_0019_019_00_0_InfoROM_version ', 'Notes': "'GPU_0019_01_00_0_InfoROM_version': not found. expected '=/K4545\\.0201\\.00\\..*/'"}]})
2025-10-14 22:04:35,393 [INFO] ‚úÖ Diagnosis PASS: passed
2025-10-14 22:04:35,396 [INFO] ‚úÖ Diagnosis PASS: passed
2025-10-14 22:04:35,399 [INFO] ‚èπÔ∏è  Test Step Ended: Step 0, Status=COMPLETE
2025-10-14 22:04:35,401 [INFO] ‚úÖ Test Run Ended: Status=COMPLETE, Result=PASS
2025-10-14 22:04:35,402 [INFO] Finalizing continued steps...
2025-10-14 22:04:35,402 [DEBUG] Finalizing continued steps in context: {}
2025-10-14 22:04:35,402 [INFO] No continued steps to finalize.
2025-10-14 22:04:35,403 [INFO] ‚úÖ Test completed in 3.18 seconds
2025-10-14 22:04:35,403 [INFO] ---------------------- Test Summary -------------------------
2025-10-14 22:04:35,403 [INFO] [PASS] Step: SearchForRegexAssignDRCWithFields | Type: log_analysis | Time: 3.15s | Msg: Log analyzed successfully.
2025-10-14 22:04:35,403 [INFO] 
‚ùå Detected Diagnostic Issues:
2025-10-14 22:04:35,412 [INFO] 
+-------------------+--------------------------+------------------------------------------+
| Diagnostic Code   | Component_ID             | Notes                                    |
+===================+==========================+==========================================+
| FAIL-000000000XXX | 0008:01:00.0_Version     | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0019:01:00.0_Version     | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0009:01:00.0_Version     | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0018:01:00.0_Version     | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0008:01:00.0_InfoROM     | Flash execution failed, please check     |
|                   | Version                  | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0008:05:00.0_Board ID    | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0019:01:00.0_InfoROM     | Flash execution failed, please check     |
|                   | Version                  | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0019:02:00.0_Board ID    | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0009:02:00.0_InfoROM     | Flash execution failed, please check     |
|                   | Version                  | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0009:02:00.0_Board ID    | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0018:11:00.0_InfoROM     | Flash execution failed, please check     |
|                   | Version                  | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | 0018:11:00.0_Board ID    | Flash execution failed, please check     |
|                   |                          | command.                                 |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0018_11_00_0_VBIOS_v | 'GPU_0018_01_00_0_VBIOS_version': not    |
|                   | ersion                   | found. expected '=/.*/'                  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0018_21_00_0_InfoROM | 'GPU_0018_01_00_0_InfoROM_version': not  |
|                   | _version                 | found. expected '=/M215\.0201\.00\..*/'  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0008_015_00_0_VBIOS_ | 'GPU_0008_01_00_0_VBIOS_version': not    |
|                   | version                  | found. expected '=/.*/'                  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0008_017_00_0_InfoRO | 'GPU_0008_01_00_0_InfoROM_version': not  |
|                   | M_version                | found. expected '=/D777\.0201\.00\..*/'  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0009_017_00_0_VBIOS_ | 'GPU_0009_01_00_0_VBIOS_version': not    |
|                   | version                  | found. expected '=/.*/'                  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0009_017_00_0_InfoRO | 'GPU_0009_01_00_0_InfoROM_version': not  |
|                   | M_version                | found. expected '=/K4545\.0201\.00\..*/' |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0019_019_00_0_VBIOS_ | 'GPU_0019_01_00_0_VBIOS_version': not    |
|                   | version                  | found. expected '=/.*/'                  |
+-------------------+--------------------------+------------------------------------------+
| FAIL-000000000XXX | GPU_0019_019_00_0_InfoRO | 'GPU_0019_01_00_0_InfoROM_version': not  |
|                   | M_version                | found. expected '=/K4545\.0201\.00\..*/' |
+-------------------+--------------------------+------------------------------------------+
2025-10-14 22:04:35,413 [INFO] 
üìä Diagnostic Codes Summary:
2025-10-14 22:04:35,414 [INFO] 
+-------------------+---------------+
| Diagnostic Code   |   Occurrences |
+===================+===============+
| FAIL-000000000XXX |             1 |
+-------------------+---------------+
2025-10-14 22:04:35,414 [INFO] 
üîë Final Context Keys:
2025-10-14 22:04:35,414 [INFO] DG_5S = {'step_001': {'error_code': True}}
2025-10-14 22:04:35,419 [INFO] Results saved to ..\sample_workspace\logs\test_run_20251014_220431\test_results.json
2025-10-14 22:04:35,423 [INFO] Diagnostics saved to ..\sample_workspace\logs\test_run_20251014_220431\diagnostics_codes.json
2025-10-14 22:04:35,424 [INFO] 
+-----------------------------------+--------------+----------+----------------+----------------------------+
| Step Name                         | Type         | Status   |   Duration (s) | Message                    |
+===================================+==============+==========+================+============================+
| SearchForRegexAssignDRCWithFields | log_analysis | success  |           3.15 | Log analyzed successfully. |
+-----------------------------------+--------------+----------+----------------+----------------------------+
2025-10-14 22:04:35,424 [INFO] ‚è±Ô∏è Total execution time: 3.18s

2025-10-14 22:04:35,424 [INFO] All tests executed successfully.
